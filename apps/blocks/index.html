<!DOCTYPE HTML>
<html lang="en-US">
	<head>
		<meta charset="UTF-8">
		<title>Blocks - PHPfox Docs</title>
		
		<meta name="viewport" content="width=device-width,initial-scale=1">

		<link rel="stylesheet" href="//cdn.jsdelivr.net/bootstrap/3.3.4/css/bootstrap.min.css">
		<link rel="stylesheet" href="//cdn.jsdelivr.net/jquery.magnific-popup/1.0.0/magnific-popup.css">
		<link rel="stylesheet" href="//cdn.jsdelivr.net/fontawesome/4.3.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/8.6/styles/default.min.css">

		<link rel="stylesheet" href="/assets/css/bootstrap.min.css">
		<link rel="stylesheet" href="/assets/css/main.css?v=4">

		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
		<link rel="icon" href="/favicon.ico" type="image/x-icon">
	</head>
	<body>
		<div id="header">
			<div class="container">
				<h1><a href="http://www.phpfox.com/">PHP<span>fox</span></a></h1>
				<h2><a href="/">Support</a></h2>
			</div>
		</div>

		
		<div id="panel">
			<form method="get" class="search">
				<input type="text" name="q" placeholder="Search..." autocomplete="off">
			</form>
			<div id="results"></div>

			<nav>
			
				<div>
					<a href="#">Getting Started</a>
					<div>
					
						
						<a href="/getting-started/requirements/">Requirements</a>
					
						
						<a href="/getting-started/installing-phpfox/">Installing PHPfox</a>
					
						
						<a href="/getting-started/installing-phpfox-with-git/">Installing PHPfox with Git</a>
					
					</div>
				</div>
			
				<div>
					<a href="#">Upgrading PHPfox</a>
					<div>
					
						
						<a href="/upgrading-phpfox/manually-upload-files/">Manually Upload Files</a>
					
					</div>
				</div>
			
				<div>
					<a href="#">Apps</a>
					<div>
					
						
						<a href="/apps/getting-started/">Getting Started</a>
					
						
						<a href="/apps/file-structure/">File Structure</a>
					
						
						<a href="/apps/configuration/">Configuration</a>
					
						
						<a href="/apps/routing/">Page Routing</a>
					
						
						<a href="/apps/route-grouping/">Route Grouping</a>
					
						
						<a href="/apps/models-and-database/">Models, Database & Autoloading</a>
					
						
						<a href="/apps/forms-and-validation/">Forms & Form Validation</a>
					
						
						<a href="/apps/api/">API Access</a>
					
						
						<a href="/apps/phrases/">Phrases</a>
					
						
						<a href="/apps/ajax/">AJAX</a>
					
						
						<a href="/apps/install-uninstall-upgrades/">Install, Un-install & Upgrades</a>
					
						
						<a href="/apps/examples-and-resources/">Examples & Resources</a>
					
						
						<a href="/apps/blocks/">Blocks</a>
					
						
						<a href="/apps/global-and-user-group-settings/">Global & User Group Settings</a>
					
					</div>
				</div>
			
				<div>
					<a href="#">API Reference</a>
					<div>
					
						
						<a href="/api/feed/">Activity Feed</a>
					
						
						<a href="/api/user/">User</a>
					
						
						<a href="/api/like/">Like</a>
					
						
						<a href="/api/comment/">Comment</a>
					
						
						<a href="/api/message/">Message</a>
					
					</div>
				</div>
			
				<div>
					<a href="#">Themes</a>
					<div>
					
						
						<a href="/themes/getting-started/">Getting Started</a>
					
						
						<a href="/themes/managing-themes/">Managing Themes</a>
					
						
						<a href="/themes/html/">Editing HTML</a>
					
						
						<a href="/themes/css/">Editing CSS</a>
					
						
						<a href="/themes/javascript/">Editing JavaScript</a>
					
					</div>
				</div>
			
				<div>
					<a href="#">Admin Tips</a>
					<div>
					
						
						<a href="/admin-tips/changing-your-sites-favicon/">Changing your Sites Favicon</a>
					
						
						<a href="/admin-tips/installing-v3-modular-apps/">Installing v3 Modular Apps</a>
					
						
						<a href="/admin-tips/setting-up-ads/">Setting up Ads</a>
					
					</div>
				</div>
			
				<div>
					<a href="#">License Holder Tips</a>
					<div>
					
						
						<a href="/license-holder-tips/finding-license-id-and-key/">Finding your License ID &amp; Key</a>
					
					</div>
				</div>
			
			</nav>
		</div>
		<div id="content" class="container-fluid article">
			<h1 id="blocks">Blocks</h1>

<p>Your app may not need full out controllers and may focus on creating features by providing sites with additional blocks.</p>

<p>You can define a specific controller where the block should show up on.</p>

<p>In your <strong>start.php</strong> add the following</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php">new Core\Block('core.index-member', 1, function(Core\Block $block) {
	$block-&gt;title('Hello World!');
	$block-&gt;content('I am a block...');
});</code></pre></figure>

<p>In this example we attach a block to the <strong>core.index-member</strong> controller, as defined by the first argument.</p>

<p>The 2nd argument is the location of the block. <strong>1</strong> is the main side panel. </p>

<p>Your options are…</p>

<ul>
  <li>1 = Main side panel</li>
  <li>3 = Secondary side panel</li>
  <li>2 = Main content</li>
  <li>4 = Secondary content</li>
</ul>

<p>The 3rd argument is a callback, which is where you can do your work.</p>

<p>The above example will output…</p>

<p><img src="/assets/img/block.png" alt="" /></p>

<p>To find out what the name of a controller is, lets first visit your sites dashboard as a user. View the HTML source of the page.</p>

<p>Look for…</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;body</span> <span class="na">id=</span><span class="s">"page_core_index-member"</span></code></pre></figure>

<p>So, when looking for the controller name you first remove <strong>page__</strong> and then replace the first underscore with a dot. So the controller for this page is</p>

<pre><code>core.index-member
</code></pre>

<p>If you visit your blog section, the body ID will be <strong>page_blog_index</strong>, so the controller would then be <strong>blog.index</strong>.</p>

<h2 id="creating-an-empty-block">Creating an Empty Block</h2>

<p><strong>Requires:</strong> PHPfox &gt;= 4.0.7</p>

<p>You can also create an empty block by just returning an HTML string.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php">new Core\Block('route_hello-world', 1, function(Core\Block $block) {
	return 'Hello!';
});</code></pre></figure>

<h2 id="attaching-blocks-to-routes">Attaching Blocks to Routes</h2>

<p><strong>Requires:</strong> PHPfox &gt;= 4.0.7</p>

<p>If you are developing routes in your apps, you can attach a block to that route without having to define the controller name.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php">new Core\Route('/hello-world', function(Core\Controller $controller) {
	$controller-&gt;block(1, function(Core\Block $block) {
		return 'Empty Block...';
	});
	
	return $controller-&gt;render('index.html');
});</code></pre></figure>


		</div>
		

		
			<div class="links">
				<a href="https://github.com/moxi9/support.phpfox.com/blob/master/apps/blocks/" target="_blank">
					<i class="fa fa-github"></i> Edit on Github
				</a>
			</div>
		

		<script src="//cdn.jsdelivr.net/jquery/1.11.3/jquery.min.js"></script>
		<script src="//cdn.jsdelivr.net/bootstrap/3.3.4/js/bootstrap.min.js"></script>
		<script src="//cdn.jsdelivr.net/jquery.magnific-popup/1.0.0/jquery.magnific-popup.min.js"></script>
		<script src="//cdn.jsdelivr.net/highlight.js/8.6/highlight.min.js"></script>

		<script src="/assets/js/main.js?v=4"></script>
		<script src="/assets/js/search.js?v=4"></script>
	</body>
</html>